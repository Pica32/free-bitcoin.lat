import"./hoisted.COZWcr4e.js";import"./hoisted.zV1UqMzv.js";import"./hoisted.CZoYlvhI.js";const c="btc_price_ars";let r=0;function s(){try{const t=localStorage.getItem(c);if(!t)return 0;const e=JSON.parse(t);return!e.fetchedAt||Date.now()-e.fetchedAt>10*60*1e3?0:e.local??0}catch{return 0}}async function u(){try{const t=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=ars",{signal:AbortSignal.timeout(6e3)});return t.ok?(await t.json())?.bitcoin?.ars??0:0}catch{return 0}}function d(t){return t.toLocaleString("es-AR",{minimumFractionDigits:0,maximumFractionDigits:0})}function i(t){const e=document.getElementById("converter-rate-note");e&&t>0&&(e.textContent=`Tasa de referencia: 1 BTC = $${d(t)} ARS`)}function o(){const t=document.getElementById("input-btc"),e=document.getElementById("input-ars");if(!t||!e)return;const a=s();a>0&&(r=a,i(a)),u().then(n=>{n>0&&(r=n,i(n))}),t.addEventListener("input",()=>{if(!r)return;const n=parseFloat(t.value);!isNaN(n)&&n>=0?e.value=Math.round(n*r).toString():e.value=""}),e.addEventListener("input",()=>{if(!r)return;const n=parseFloat(e.value);!isNaN(n)&&n>=0?t.value=(n/r).toFixed(8):t.value=""})}o();document.addEventListener("astro:page-load",o);
