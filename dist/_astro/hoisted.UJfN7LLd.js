import"./hoisted.COZWcr4e.js";let t=null;async function s(c){const i=c.toLowerCase();try{const e=JSON.parse(localStorage.getItem("fblt_price_v1")||"null");if(e&&Date.now()-e.updatedAt<3e5&&e.currencies[c]){t=e.currencies[c];return}t=(await(await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=${i}&include_24hr_change=true`)).json()).bitcoin[i];const n=JSON.parse(localStorage.getItem("fblt_price_v1")||'{"currencies":{},"updatedAt":0}');n.currencies[c]=t,n.updatedAt=Date.now(),localStorage.setItem("fblt_price_v1",JSON.stringify(n))}catch{t=null}}async function a(){const i=document.getElementById("curr-select")?.value||"USD";await s(i);const e=parseFloat(document.getElementById("btc-input")?.value)||0,u=parseFloat(document.getElementById("fiat-input")?.value)||0,r=document.getElementById("fiat-output"),n=document.getElementById("btc-output"),o=document.getElementById("price-ref");t?(document.activeElement?.id==="btc-input"?r&&(r.textContent=new Intl.NumberFormat("es-419",{maximumFractionDigits:2}).format(e*t)):n&&(n.textContent=(u/t).toFixed(8)),o&&(o.textContent=`1 BTC = ${new Intl.NumberFormat("es-419",{maximumFractionDigits:0}).format(t)} ${i}`)):o&&(o.textContent="No se pudo obtener el precio. Intenta mÃ¡s tarde.")}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("curr-select")?.addEventListener("change",a),document.getElementById("btc-input")?.addEventListener("input",a),document.getElementById("fiat-input")?.addEventListener("input",a),a()});
