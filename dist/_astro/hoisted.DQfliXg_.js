import"./hoisted.COZWcr4e.js";import"./hoisted.zV1UqMzv.js";import"./hoisted.CZoYlvhI.js";function p(){const n=document.getElementById("input-btc"),i=document.getElementById("input-mxn"),o=document.getElementById("converter-price-display");if(!n||!i)return;function a(){try{const t=localStorage.getItem("btc_price_mxn");if(!t)return null;const e=JSON.parse(t);return!e.local||!e.fetchedAt||Date.now()-e.fetchedAt>30*60*1e3?null:e.local}catch{return null}}function u(t){return t.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2})}function d(t){return t.toLocaleString("es-MX",{minimumFractionDigits:6,maximumFractionDigits:8})}function s(t){o&&(o.textContent=`Precio de referencia: 1 BTC â‰ˆ $${u(t)} MXN`)}let r=a(),m=0;const f=setInterval(()=>{r=a(),r&&(s(r),clearInterval(f)),m++,m>30&&clearInterval(f)},1e3);r&&s(r);let c=!1,l=!1;n.addEventListener("input",()=>{if(l)return;c=!0;const t=a();if(!t){c=!1;return}const e=parseFloat(n.value);!isNaN(e)&&e>=0?i.value=u(e*t):i.value="",c=!1}),i.addEventListener("input",()=>{if(c)return;l=!0;const t=a();if(!t){l=!1;return}const e=parseFloat(i.value.replace(/,/g,""));!isNaN(e)&&e>=0?n.value=d(e/t):n.value="",l=!1})}p();document.addEventListener("astro:page-load",p);
