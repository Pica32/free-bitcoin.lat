import"./hoisted.COZWcr4e.js";function p(){document.querySelectorAll("[data-faq-trigger]").forEach(e=>e.replaceWith(e.cloneNode(!0))),document.querySelectorAll("[data-faq-trigger]").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".faq-item");if(!t)return;const n=t.classList.contains("open"),i=document.getElementById(e.getAttribute("aria-controls")??"");n?(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),i&&(i.style.display="none")):(t.classList.add("open"),e.setAttribute("aria-expanded","true"),i&&(i.style.display="block"))})})}p();document.addEventListener("astro:page-load",p);const y={ar:{country:"ar",officialRate:1050,cryptoRate:1315,premiumPct:25.24,officialLabel:"ARS 1,050.00",cryptoLabel:"ARS 1,315.00",updatedAt:"datos de referencia"},ve:{country:"ve",officialRate:36.5,cryptoRate:39.2,premiumPct:7.4,officialLabel:"Bs. 36.50",cryptoLabel:"Bs. 39.20",updatedAt:"datos de referencia"}};function a(e){return e.toLocaleString("es-419",{minimumFractionDigits:2,maximumFractionDigits:2})}function E(e){if(!e)return"desconocido";try{const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleString("es-419",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}function b(e){return e<5?"premium-pct--low":e<=20?"premium-pct--mid":"premium-pct--high"}async function g(e){const t=await fetch(`/api/premium.php?country=${encodeURIComponent(e)}`,{headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(!t.ok)throw new Error(`HTTP ${t.status}`);const n=await t.json();if(typeof n.officialRate!="number"||typeof n.cryptoRate!="number")throw new Error("Invalid response shape");const i=n.officialRate,o=n.cryptoRate,c=typeof n.premiumPct=="number"?n.premiumPct:(o-i)/i*100;return{country:e,officialRate:i,cryptoRate:o,premiumPct:c,officialLabel:n.officialLabel??a(i),cryptoLabel:n.cryptoLabel??a(o),updatedAt:n.updatedAt??new Date().toISOString()}}function d(e,t,n=!1){const i=document.getElementById(`${e}-loading`),o=document.getElementById(`${e}-content`),c=document.getElementById(`${e}-error`);i&&(i.style.display="none"),c&&(c.style.display="none");const l=document.getElementById(`${e}-official`),s=document.getElementById(`${e}-crypto`),r=document.getElementById(`${e}-pct`),m=document.getElementById(`${e}-updated`);if(l&&(l.textContent=t.officialLabel),s&&(s.textContent=t.cryptoLabel),r){r.classList.remove("premium-pct--low","premium-pct--mid","premium-pct--high"),r.classList.add(b(t.premiumPct));const u=t.premiumPct>=0?"+":"";r.textContent=`${u}${a(t.premiumPct)}%`,r.setAttribute("aria-label",`Premium: ${u}${a(t.premiumPct)} por ciento`)}m&&(m.textContent=n?"Datos de referencia â€” API no disponible":E(t.updatedAt)),o&&(o.style.display="block")}function L(e){const t=document.getElementById(`${e}-loading`),n=document.getElementById(`${e}-error`);t&&(t.style.display="none"),n&&(n.style.display="block")}async function A(e){const t=e.id,n=e.dataset.country??"ar";if(!e._premiumInit){e._premiumInit=!0;try{const i=await g(n);d(t,i,!1)}catch{const i=y[n];i?d(t,i,!0):L(t)}}}function f(){document.querySelectorAll("[id^='premium-index-']").forEach(t=>{A(t)})}f();document.addEventListener("astro:page-load",f);
